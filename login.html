<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>ä½œè€…éªŒè¯ Admin Login</title>
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.12.0/dist/av-min.js"></script>
    <style>
        :root { --bg: #fffdf5; --text: #333; --brand: #ff4757; }
        body.dark { --bg: #121212; --text: #f1f2f6; --brand: #ff6b81; }
        body { text-align: center; padding-top: 100px; font-family: sans-serif; background: var(--bg); color: var(--text); transition: 0.3s; }
        input { padding: 12px; border-radius: 8px; border: 1px solid #444; background: #222; color: #fff; width: 200px; }
        button { padding: 10px 25px; cursor: pointer; border-radius: 8px; border: none; background: #eee; color: #000; font-weight: bold; transition: 0.2s; }
        button:active { transform: scale(1.1); }
        .back-link { color: #888; text-decoration: none; display: inline-block; margin-top: 20px; font-weight: bold; }
        .back-link:active { transform: scale(1.1); color: var(--brand); }
    </style>
</head>
<body>
    <h2 data-zh="ğŸ‘‘ ç®¡ç†å‘˜éªŒè¯" data-en="ğŸ‘‘ Admin Login">ğŸ‘‘ ç®¡ç†å‘˜éªŒè¯</h2>
    <div style="display: inline-flex; gap: 10px; align-items: center;">
        <input type="password" id="pw" data-zh-ph="è¯·è¾“å…¥å¯†ç ..." data-en-ph="Enter Password...">
        <button onclick="go()" data-zh="éªŒè¯" data-en="Verify">éªŒè¯</button>
    </div>
    <br><br>
    <a href="index.html" class="back-link" data-zh="ğŸ  è¿”å›é¦–é¡µ" data-en="ğŸ  Back Home">ğŸ  è¿”å›é¦–é¡µ</a>

    <script>
        // 1. åˆå§‹åŒ–ç”µæº
        AV.init({
            appId: "M7KeNAw2myFEaXvSEJPbtPpA-MdYXbMMI",
            appKey: "O9DYEDbkHLvecHlEact4ANKO",
            serverURL: "https://m7kenaw2.api.lncldglobal.com"
        });

        // 2. ç¿»è¯‘é€»è¾‘å·²ä¿®å¤ï¼šç°åœ¨å®ƒèƒ½å®Œç¾å·¥ä½œäº†
        function applyLanguage() {
            const lang = localStorage.getItem('lang') || 'zh';
            const isDark = localStorage.getItem('theme') === 'dark';
            if (isDark) document.body.classList.add('dark');

            document.querySelectorAll('[data-zh]').forEach(el => {
                el.innerText = (lang === 'zh' ? el.getAttribute('data-zh') : el.getAttribute('data-en'));
            });
            document.querySelectorAll('[data-zh-ph]').forEach(el => {
                el.placeholder = (lang === 'zh' ? el.getAttribute('data-zh-ph') : el.getAttribute('data-en-ph'));
            });
        }

        // 3. ç™»å½•éªŒè¯å‡½æ•°
        function go() {
            const inputVal = document.getElementById('pw').value.trim();
            if (!inputVal) {
                alert(localStorage.getItem('lang') === 'en' ? "Please enter password!" : "è¯·è¾“å…¥å¯†ç ï¼");
                return;
            }

            // Base64 ç¼–ç éªŒè¯
            const encodedInput = btoa(inputVal);
            const correctEncoded = "Q2xhcmtTdXBlclBhc3N3b3Jk";

            if (encodedInput === correctEncoded) {
                sessionStorage.setItem('isAdmin', 'true');
                window.location.href = 'author.html';
            } else {
                const lang = localStorage.getItem('lang') || 'zh';
                alert(lang === 'zh' ? 'éªŒè¯å¤±è´¥ï¼' : 'Auth Failed!');
            }
        }

        // é¡µé¢åŠ è½½æ‰§è¡Œç¿»è¯‘
        applyLanguage();
    </script>
</body>
</html>